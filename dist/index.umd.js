!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("react"),require("resize-observer-polyfill")):"function"==typeof define&&define.amd?define(["react","resize-observer-polyfill"],n):(e=e||self).useFitText=n(e.react,e.resizeObserverPolyfill)}(this,function(e,n){function t(){return(t=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r={debug:10,info:20,warn:30,error:40,none:100},i="undefined"!=typeof window&&window.document&&window.document.createElement?e.useLayoutEffect:e.useEffect;return function(o){var f=void 0===o?{}:o,c=f.logLevel,u=f.maxFontSize,a=void 0===u?100:u,l=f.minFontSize,s=void 0===l?20:l,d=f.onFinish,v=f.onStart,z=f.resolution,S=void 0===z?5:z,y=r[void 0===c?"info":c],p=e.useCallback(function(){return{calcKey:0,fontSize:a,fontSizePrev:s,fontSizeMax:a,fontSizeMin:s}},[a,s]),h=e.useRef(null),m=e.useRef(),w=e.useRef(!1),b=e.useState(p),M=b[0],x=b[1],g=M.calcKey,F=M.fontSize,K=M.fontSizeMax,O=M.fontSizeMin,P=M.fontSizePrev,j=null,E=e.useState(function(){return new n(function(){j=window.requestAnimationFrame(function(){w.current||(v&&v(),w.current=!0,x(t({},p(),{calcKey:g+1})))})})})[0];e.useEffect(function(){return h.current&&E.observe(h.current),function(){j&&window.cancelAnimationFrame(j),E.disconnect()}},[j,E]);var R=h.current&&h.current.innerHTML;e.useEffect(function(){0===g||w.current||(R!==m.current&&(v&&v(),x(t({},p(),{calcKey:g+1}))),m.current=R)},[g,p,R,v]),i(function(){if(0!==g){var e=Math.abs(F-P)<=S,n=!!h.current&&(h.current.scrollHeight>h.current.offsetHeight||h.current.scrollWidth>h.current.offsetWidth),t=F>P;if(e)n&&F===P?(w.current=!1,y<=r.info&&console.info("[use-fit-text] reached `minFontSize = "+s+"` without fitting text")):n?x({fontSize:t?P:O,fontSizeMax:K,fontSizeMin:O,fontSizePrev:P,calcKey:g}):(w.current=!1,d&&d(F));else{var i,o=K,f=O;n?(i=t?P-F:O-F,o=Math.min(K,F)):(i=t?K-F:P-F,f=Math.max(O,F)),x({calcKey:g,fontSize:F+i/2,fontSizeMax:o,fontSizeMin:f,fontSizePrev:F})}}},[g,F,K,O,P,d,h,S]);var q=e.useCallback(function(){x(t({},p(),{calcKey:g+1}))},[g,p]);return{fontSize:F+"%",ref:h,forceRefit:q}}});
//# sourceMappingURL=index.umd.js.map
